A general introduction to the use of OpenQuake is provided in Section 
\ref{sec:intro} at page \pageref{sec:intro}.
The reader is invited to consult this part before moving into
the details of this section.

% -----------------------------------------------------------------------------
\section{Running OpenQuake-engine for hazard calculations}
\index{Running OpenQuake!hazard} 
The execution of a hazard analysis using the OpenQuake-engine 
is straightforward. Below we provide an example of the simplest 
command that can be used to launch a hazard calculation which 
consists in the invocation of \texttt{openquake} together with 
the \texttt{--rh} option which stands for ``run hazard'' and 
requires the name of a configuration file (in the example below
it corresponds to \texttt{job.ini}):
\begin{Verbatim}[frame=single, commandchars=\\\{\}, fontsize=\small]
user@ubuntu:~$ openquake --rh job.ini
\end{Verbatim}

The amount of information prompted during the execution of the 
analysis is controlled by means of the \texttt{--log-level} flag 
as shown in the example below:
\begin{Verbatim}[frame=single, commandchars=\\\{\}, fontsize=\small]
user@ubuntu:~$ openquake --rh job.ini --log-level debug
\end{Verbatim}

There are two alterative ways to get results from OpenQuake engine. 
The first one is activated at the OpenQuake invocation the flag 
\texttt{--exports xml} as shown in the example below
\begin{Verbatim}[frame=single, commandchars=\\\{\}, fontsize=\small]
user@ubuntu:~$ openquake --rh job.ini \textcolor{red}{--exports xml}
\end{Verbatim}

With the second option, it's possible to export from the database 
incorporated into the OpenQuake-engine the results produced by 
any of the calculations completed.

The list of the hazard calculations is obtained with 
the following command:
\begin{Verbatim}[frame=single, commandchars=\\\{\}, fontsize=\small]
user@ubuntu:~$ openquake --lhc
\end{Verbatim}
The execution of this command will produce a list of the hazard 
calculations performed with OpenQuake.
\begin{Verbatim}[frame=single, commandchars=\\\{\}, fontsize=\small]
user@ubuntu:~$ openquake --lhc
calc_id | num_jobs | latest_job_status | last_update | description
1 | 1 | failed | 2013-03-01 09:49:34  | Classical PSHA
2 | 1 | successful | 2013-03-01 09:49:56  | Classical PSHA
3 | 1 | failed | 2013-03-01 10:24:04  | Classical PSHA
4 | 1 | failed | 2013-03-01 10:28:16  | Classical PSHA
5 | 1 | failed | 2013-03-01 10:30:04  | Classical PSHA
6 | 1 | successful | 2013-03-01 10:31:53  | Classical PSHA
7 | 1 | failed | 2013-03-09 08:15:14  | Classical PSHA
8 | 1 | successful | 2013-03-09 08:18:04  | Classical PSHA
\end{Verbatim}
% -----------------------------------------------------------------------------
\input{./oqum/hazard/02a_output.tex}
\input{./oqum/hazard/02c_output_event_based.tex}
\input{./oqum/hazard/02b_output_disaggregation.tex}
